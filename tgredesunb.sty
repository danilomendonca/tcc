%%
%% This is file `tgredesunb.sty'.
%%
%% This file has been created by Prof. Geovany Araujo Borges.
%% Updates:
%% - 2006/03/19: Version 1.0 released.

\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{tgredesunb}
                  [2006/03/19 v1.0]

%%% Dados do trabalho
\newcommand{\mes}[1]{\def\mesnome{#1}}
\newcommand{\ano}[1]{\def\anonome{#1}}
\newcommand{\autori}[1]{\def\autorinome{#1}}
\newcommand{\autorii}[1]{\def\autoriinome{#1}}

\newcommand{\refautori}[1]{\def\refautorinome{#1}}
\newcommand{\refautorii}[1]{\def\refautoriinome{#1}}

\newcommand{\titulolinhai}[1]{\def\titulolinhainome{#1}}
\newcommand{\titulolinhaii}[1]{\def\titulolinhaiinome{#1}}
\newcommand{\titulolinhaiii}[1]{\def\titulolinhaiiinome{#1}}
\newcommand{\titulolinhaiv}[1]{\def\titulolinhaivnome{#1}}
\newcommand{\titulominusculoi}[1]{\def\titulominusculoinome{#1}}
\newcommand{\titulominusculoii}[1]{\def\titulominusculoiinome{#1}}
\newcommand{\membrodabancai}[1]{\def\membrodabancainome{#1}}
\newcommand{\membrodabancaii}[1]{\def\membrodabancaiinome{#1}}
\newcommand{\membrodabancaiii}[1]{\def\membrodabancaiiinome{#1}}
\newcommand{\membrodabancaiv}[1]{\def\membrodabancaivnome{#1}}
\newcommand{\membrodabancav}[1]{\def\membrodabancavnome{#1}}
\newcommand{\numpaginastexto}[1]{\def\numpaginastextonome{#1}}
\newcommand{\numpaginaspreliminares}[1]{\def\numpaginaspreliminaresnome{#1}}

%%% Capa:
\newcommand{\capaprincipal}{
\begin{titlepage}
\AddToShipoutPicture*{\BackgroundPicture{figs/capa_fundo2.eps}{21cm}}
\begin{center}
\vspace*{8.5cm}
{\LARGE TRABALHO DE GRADUAÇÃO}\\
\vspace{1.2cm}
\begin{tabular}{>{\PreserveBacklash}c}
{\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhainome}{}}{\vspace*{7pt}}{\titulolinhainome}}\\
{\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhaiinome}{}}{\vspace*{7pt}}{\titulolinhaiinome}}\\
{\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhaiiinome}{}}{\vspace*{7pt}}{\titulolinhaiiinome}}\\ {\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhaivnome}{}}{\vspace*{7pt}}{\titulolinhaivnome}}
\end{tabular}\\
\vspace*{2cm}
\begin{tabular}{>{\PreserveBacklash}c}
{\setfontarial\Large\bf\autorinome\vspace*{2mm}}
\end{tabular}\\
\ifthenelse{\equal{\autoriinome}{}}{\vspace*{6mm}}{
\begin{tabular}{>{\PreserveBacklash}c}
{\setfontarial\Large\bf\autoriinome\vspace*{1mm}}
\end{tabular}\\}
\vspace{2.3cm}
{\setfonttimes\large\bf Brasília, \mesnome \space de \anonome}\\
\vspace{1.5cm}
{\setfontarial\LARGE\bf UNIVERSIDADE DE BRASÍLIA}\\
\vspace{1cm}
{\setfontarial\large FACULDADE DE TECNOLOGIA}
\end{center}
\end{titlepage}
}

%%% Contra-capa:
\newcommand{\capaassinaturas}{
\begin{titlepage}
\begin{center}
{\setfonttimes\large UNIVERSIDADE DE BRASILIA}\\
{\setfonttimes\large Faculdade de Tecnologia}\\
\vspace{6.5cm}
{\setfontarial\LARGE TRABALHO DE GRADUAÇÃO}\\
\vspace{0.7cm}
\begin{tabular}{>{\PreserveBacklash}c}
{\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhainome}{}}{\vspace*{7pt}}{\titulolinhainome}}\\
{\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhaiinome}{}}{\vspace*{7pt}}{\titulolinhaiinome}}\\
{\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhaiiinome}{}}{\vspace*{7pt}}{\titulolinhaiiinome}}\\ {\setfontarial\LARGE\bf \ifthenelse{\equal{\titulolinhaivnome}{}}{\vspace*{7pt}}{\titulolinhaivnome}}
\end{tabular}\\
\vspace{1.0cm}
\begin{tabular}{>{\PreserveBacklash}c}
{\setfontarial\large\bf\autorinome\vspace*{2mm}}
\end{tabular}\\
\ifthenelse{\equal{\autoriinome}{}}{\vspace*{6mm}}{
\begin{tabular}{>{\PreserveBacklash}c}
{\setfontarial\large\bf\autoriinome\vspace*{1mm}}
\end{tabular}\\}
\vspace{1.5cm}
{\setfonttimes\large Relatório submetido ao Departamento de Engenharia Elétrica \\ como requisito parcial para obtenção
do grau de \\ Engenheiro de Redes de Comunicação}\\
\vspace*{1.5cm}
{\setfontarial\large Banca Examinadora}\\
\vspace*{1mm}
{\small
 \begin{tabular}{>{\vspace*{1mm}}p{0.45\textwidth}>{\vspace*{4mm}}p{0.45\textwidth}p{0cm}}
 \setfontarial \ifthenelse{\equal{\membrodabancainome}{}}{& \\}{\membrodabancainome & \hrule \\}
 \setfontarial \ifthenelse{\equal{\membrodabancaiinome}{}}{& \\}{\membrodabancaiinome & \hrule \\}
 \setfontarial \ifthenelse{\equal{\membrodabancaiiinome}{}}{& \\}{\membrodabancaiiinome & \hrule \\}
 \setfontarial \ifthenelse{\equal{\membrodabancaivnome}{}}{& \\}{\membrodabancaivnome & \hrule \\}
 \setfontarial \ifthenelse{\equal{\membrodabancavnome}{}}{& \\}{\membrodabancavnome & \hrule}
 \end{tabular}
}
\end{center}
\end{titlepage}
}
%%% Decicatória
\newcommand{\dedicatoriaautori}[1]{\def\dedicatoriaautorinome{#1}}
\newcommand{\dedicatoriaautorii}[1]{\def\dedicatoriaautoriinome{#1}}

\newcommand{\dedicatoria}{
\begin{titlepage}
\begin{center}
\vspace*{\fill}
\begin{flushright}
\large
\ifthenelse{\equal{\autoriinome}{}}{\setfontarial\bf Dedicatória\space\space\space\space}{\setfontarial\bf Dedicatórias}
\end{flushright}
\begin{center}
	\ifthenelse{\equal{\autoriinome}{}}{
		\begin{tabular}{p{0.90\textwidth}}
			\setfonttimes\textit{\dedicatoriaautorinome}\\
		 \\
		\raggedleft\setfonttimes\textit{\autorinome}
		\end{tabular}
	}{
		\begin{tabular}{p{0.45\textwidth}p{0.01\textwidth}p{0.45\textwidth}}
			\setfonttimes\textit{\dedicatoriaautorinome} & &
			\setfonttimes\textit{\dedicatoriaautoriinome}.
		\end{tabular}
		\begin{tabular}{p{0.45\textwidth}p{0.01\textwidth}p{0.45\textwidth}}
		& \\
		\raggedleft\setfonttimes\textit{\autorinome} & &
		\raggedleft\setfonttimes\textit{\autoriinome}
		\end{tabular}
	}
\end{center}
\vspace*{2cm}
\end{center}
\end{titlepage}
}

%%% Agradecimentos
\newcommand{\agradecimentosautori}[1]{\def\agradecimentosautorinome{#1}}
\newcommand{\agradecimentosautorii}[1]{\def\agradecimentosautoriinome{#1}}

\newcommand{\agradecimentos}{
\begin{titlepage}
\begin{flushleft}
\large\setfontarial\bf Agradecimentos
\end{flushleft}
\begin{center}
	\begin{tabular}{p{0.9\textwidth}}
		\large\setfonttimes\textit{\agradecimentosautorinome}\\
	  \\
  	\large\raggedleft\setfonttimes\textit{\autorinome}\\
	\end{tabular}
	\vspace*{1cm}
	\ifthenelse{\equal{\autoriinome}{}}{}{
		\begin{tabular}{p{0.9\textwidth}}
			\large\setfonttimes\textit{\agradecimentosautoriinome}\\
	  	\\
	  	\large\raggedleft\setfonttimes\textit{\autoriinome}\\
		\end{tabular}
	}
\end{center}
\end{titlepage}
}

%%% Resumos opcionais do início de cada capítulo
\newcommand{\resumodocapitulo}[1]{
\vspace*{-0.8cm}
\begin{flushright}
	\begin{tabular}{p{0.5\textwidth}}
		\large\setfonttimes\itshape{#1}\\
	\end{tabular}
	\vspace*{-0.5cm}
\end{flushright}
}

%%% Cabeçalhos dos resumos:
\newcommand{\resumo}[2]{
\begin{flushright}
\hrule
\vspace*{4mm}\large\setfontarial\bf\uppercase{#1} \\
\end{flushright}
{\large\setfonttimes\mdseries\noindent#2}
}

%%% Fontes:
\newcommand{\setfontarial}{\renewcommand{\familydefault}{\sfdefault}\sffamily}
\newcommand{\setfonttimes}{\renewcommand{\familydefault}{\rmdefault}\rmfamily}

%%% Estilo dos capítulos, seções, sub-seções:
\makeatletter
\renewcommand{\@makechapterhead}[1]{%
  {\parindent \z@ \raggedleft \setfontarial\bfseries
        \LARGE \thechapter \space\space
    \uppercase{#1}\par
    \vskip 40\p@
  }
}
\renewcommand{\@makeschapterhead}[1]{%
  {\parindent \z@ \raggedleft \setfontarial\bfseries
        \LARGE #1\par
    \vskip 40\p@
  }
}
\renewcommand{\section}{\@startsection{section}
	{1} % nivel
	{1em} % recuo
	{30pt} % espaço antes
	{12pt\setfonttimes\mdseries} % espaço após, com reformatação.
	{\sffamily\bfseries\large\uppercase}} % formato da fonte

\renewcommand{\subsection}{\@startsection{subsection}
	{2} % nivel
	{1em} % recuo
	{18pt} % espaço antes
	{6pt\setfonttimes\mdseries} % espaço após, com reformatação.
	{\sffamily\bfseries\normalsize}} % formato da fonte

\renewcommand{\subsubsection}{\@startsection{subsubsection}
	{3} % nivel
	{1em} % recuo
	{18pt} % espaço antes
	{6pt\setfonttimes\mdseries} % espaço após, com reformatação.
	{\sffamily\mdseries\normalsize}} % formato da fonte

\newcommand{\anexos}{
	\chapter*{\setfontarial\mdseries ANEXOS}
	\addcontentsline{toc}{chapter}{{Anexos}}
	\renewcommand{\appendixname}{ANEXO}
	\appendix
	\newcounter{noAnexo}
	\renewcommand{\thechapter}{\Roman{noAnexo}}
	\setcounter{noAnexo}{1}
}

%%% Figura de fundo da capa:
\usepackage{eso-pic,graphicx}
\newcommand\BackgroundPicture[2]{%
  \setlength{\unitlength}{1pt}%
  \put(0,\strip@pt\paperheight){%
  \parbox[t][\paperheight]{\paperwidth}{%
    \vfill
    \centering\includegraphics[width=#2]{#1}
    \vfill
}}}

%%% Formatação do sumário:
\renewcommand*\l@chapter[2]{%
  \ifnum \c@tocdepth >\m@ne
    \addpenalty{-\@highpenalty}%
    \vskip 1.0em \@plus\p@
    \setlength\@tempdima{1.5em}%
    \begingroup
      \parindent \z@ \rightskip \@pnumwidth
      \parfillskip -\@pnumwidth
      \leavevmode \bfseries
      \advance\leftskip\@tempdima
      \hskip -\leftskip
      \uppercase{#1}\nobreak\hfil\dotfill \nobreak\hb@xt@\@pnumwidth{\hss #2}\par
      \penalty\@highpenalty
    \endgroup
  \fi}
\renewcommand*\l@section{\@dottedtocline{1}{1.5em}{3.6em}}
\renewcommand*\l@subsection{\@dottedtocline{2}{1.5em}{3.6em}}
\renewcommand*\l@subsubsection{\@dottedtocline{3}{1.5em}{3.6em}}

%%% Sumário:
\newcommand{\sumario}{
	\renewcommand{\contentsname}{\setfontarial\mdseries Sumário}
	 {\renewcommand{\@dotsep}{0.5}\parskip=0pt\setfontarial\mdseries\scshape\tableofcontents}
}

%%% Lista de figuras:
\newcommand{\listadefiguras}{
	\renewcommand{\listfigurename}{\setfontarial\mdseries LISTA DE FIGURAS}
	{\renewcommand{\@dotsep}{0.5}\parskip=0pt\listoffigures}
}

%%% Lista de tabelas:
\newcommand{\listadetabelas}{
	\renewcommand{\listtablename}{\setfontarial\mdseries LISTA DE TABELAS}
	{\renewcommand{\@dotsep}{0.5}\parskip=0pt\listoftables}
}

%%% Lista de símbolos: apenas o formato do título.
\newcommand{\listadesimbolos}{
	\renewcommand{\contentsname}{\setfontarial\mdseries NOTAÇÕES}
	\listoftables
}

\makeatother



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Lengths

\geometry{headsep=.2in,footskip=0.7in,top=2cm,textwidth=16.32cm}
\setlength{\evensidemargin}{-0.2cm}
\setlength{\oddsidemargin}{-0.2cm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Macros
\newcommand{\PreserveBacklash}[1]{\let\temp=\\#1\let\\=\temp}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Espaço entre parágrafos
\parskip=6pt

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Red\'{e}finition de cleardoublepage pour que les pages vides s\'{e}parant
% les chapitres soient vraiment vides
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
 \hbox{}
 \vspace*{\fill}% test \vspace{\fill}
 \thispagestyle{empty}
 \newpage
 \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother


