%TCIDATA{LaTeXparent=0,0,relatorio.tex}
\chapter{Embasamento Teórico}\label{embasamento}


%definindo SOC
\section{Service Oriented Computing}

A tecnologia da informação já se consolidou como ferramenta essencial para as instituições, afetando rotinas, ações, estruturas e modelos de negócios. Os alto custos associados ao consumo e provimento de recursos de TI e a necessidade de uma maior agilidade para responder às mudanças casam-se às propostas da computação orientada a serviços, ou SOC, cujo paradigma de design é composto por princípios que, quando absorvidos, criam condições para o cumprimento dos objetivos e benefícios almejados pela orientação a serviços, entre eles o aumento do retorno de investimento, da agilidade, da reusabilidade e da interoperabilidade, assim como um maior alinhamento entre TI e modelo de negócios. 
%OK 1.1.2!

%figura(s) com obrigações e benefícios do SOC (4 obrigações e 3 benefícios) 
%!!substituir figura por uma em português
\begin{figure}[htbp]
	\centering	\includegraphics[width=0.80\textwidth]{figs/danilo/SOC_strategic_goals.eps}
	\caption{Princípios relacionados ao SOA e seus benefícios}	
	\label{fig:SOC_strategic_goals}
\end{figure} 

O paradigma de design da orientação a serviços norteia a configuração do suprimento e consumo dos recursos de TI, em especial as soluções lógicas ou softwares. Apesar do sucesso de outros paradigmas na computação, por exemplo a orientação a objetos, nota-se que problemas distintos, ou seja, da eficiência, agilidade e retorno de investimento na composição de aplicações, ainda deveriam ser atacados. Assim, as aplicações silos com pouca interoperabilidade e sem reuso passaram a ser vistas como um modelo ineficiente, visto que aumentam o custo de desenvolvimento de novas aplicações a longo prazo  e reduzem drasticamente a agilidade ou tempo de resposta às novas demandas, sobretudo quando os modelos de negócio exigem maior flexibilidade. Dessa forma, os benefícios idealizados pelo SOC fizeram desse paradigma um foco de estudos em diversos centros acadêmicos, sobretudo à partir do surgimento da arquitetura orientada a serviços, ou SOA. Também é notável a adesão de grandes vendedores da indústria de TI a essa tecnologia, fomentando tanto pesquisa quanto sua adoção em instituições públicas e privadas.

O termo SOC representa um aglomerado de conceitos relacionados à orientação a serviços \cite{Erl:2007:SPS:1296147}. Além de um paradigma de design, engloba princípios, padrões, governança e arquitetura, notavelmente o SOA. Nesse trabalho, o termo SOC poderá ser usado para se referir de forma genérica à orientação a objetos como um todo.


%história
\section{Service Orientation History}

Historicamente, o paradigma de orientação a serviços tem como base diversos outros paradigmas e designs. Entre os mais importantes está a arquitetura baseada em componentes. Com ela, a orientação a serviços compartilha visões, uma vez que ambas se sustentam sobre os conceitos de unidades lógicas auto-contidas, auto-descritas, modulares, encapsuladas, que fazem uso de interfaces, contratos e especificações com possibilidade de composição com outras unidades.

No entanto, serviços diferenciam-se fundamentalmente de componentes. Enquanto componentes variam entre modelos \textit{white box, gray box ou black box}, de acordo com o nível de customização possível, os serviços são sempre hermeticamente encapsulados e distribuídos em forma de \textit{black boxes}. Nos primeiros, foca-se na especificação técnica do conjunto de funcionalidades que desempenham, permitindo o uso das mesmas nos códigos que as invocam uma vez que os componentes tenham sido devidamente importados ou ligados à aplicação. Para os últimos,  contratos são estabelecidos em conjunto às descrições das funcionalidades expostas por meio das interfaces do serviço. De fato, há casos em que um serviço irá fazer uso de componentes em sua implementação, que por conceito independe de sua descrição, desde que mantenha a funcionalidade por ela exposta. Já a especificação de componentes pode incluir também uma definição abstrata de sua estrutura interna. \cite{Breivold:2007:CSS:1302497.1302990}. 

%Figura com atividades de componentes e serviços
\begin{figure}[hbtp]
	\centering	\includegraphics[width=1.0\textwidth]{figs/danilo/Component_vs_Services.eps}
	\caption{Comparação entre atividades típicas de componentes e serviços}	
	\label{fig:Component_vs_Services}
\end{figure} 

A composição dos serviços é feita de forma dinâmica em tempo de execução, enquanto a composição de componentes é feita na fase de design ou em tempo de execução. Isso relaciona-se ao tipo de acoplamento entre provedor e consumidor, havendo diferença entre ambos paradigmas. Nos componentes é frequente um alto acoplamento, de forma que um grau mais elevado de cumplicidade entre provedor e consumidor é exigida de acordo com o tipo de interação e modelo de componentes usado. Em contraste, nos serviços o baixo acoplamento entre provedor e consumidor é um princípio a ser seguido e um de maior importância no paradigma de orientação a serviços, havendo transparência no processo de troca de mensagens. Dessa forma, o provedor irá desfrutar de liberdade e flexibilidade para a escolha do design e da tecnologia para implementação, assim como o contratante irá somente se ater, funcionalmente, à interface. O baixo acoplamento é viabilizado pela descrição dos serviços, que possibilitam sua interação usando parâmetros pré-estabelecidos \cite{Crnkovic:2006:CDP:1193212.1193814}. Para componentes, é possível uma optimização da performance em detrimento da flexibilidade por meio da composição na fase de design.

Mesmo com modelos que definem a distribuição de componentes, i.e. J2EE e CORBA, os resultados obtidos são de naturezas distintas. O processo de integração remota previsto pela distribuição de componentes mantém o aspecto citado para a sua especificação, uma vez que irá, de forma refinada, distribuir modelos de objetos, seus estados e suas propriedades, enquanto os serviços estão num patamar menos elaborado de integração, fornecendo funcionalidades coesas em alto nível no padrão requisição e resposta. Portanto, componentes e serviços se situam em domínios diferentes, assim como os problemas por eles enfrentados e as necessidades atendidas \cite{soaworld-ws-components}.

A orientação a objetos também teve grande influência na orientação a serviços. Muitos conceitos por ela reforçados tem precedência nesse paradigma, entre eles o alinhamento do modelo de negócio e da TI, visto que as classes são moldadas à partir de conceitos e objetos reais, muitas vezes representações do próprio negócio. O aumento da robustez, uma vez que a orientação a objetos mantém um forte processo de design da solução com uso de diagramas UML e possui um complexo modelo para exceções e rotinas de teste. Da extensibilidade, haja vista a característica modular das classes e as diversas possibilidades de herança, polimorfismo e associações capazes de estender o escopo da solução. Da flexibilidade, dado o uso de encapsulamento e abstração, sendo possível a adaptação do funcionamento a novas realidades. Por fim, da reusabilidade e da produtividade, dada a existência de classes abstratas e de códigos genéricos e reutilizáveis \cite{Erl:2007:SPS:1296147}.

Uma diferença entre os dois paradigmas está no escopo onde atuam. A orientação a objetos visa estruturar soluções localizadas e podem vir a ser aplicada diversas vezes, podendo englobar todo o cenário da instituição. A orientação a serviços desde sua aplicação inicial irá atuar em porções mais extensas, podendo ou não chegar a todo o contexto de soluções de tecnologia. Isso se deve a alguns princípios do SOC, por exemplo a formação de um inventário de serviços de modo a viabilizar a composição dos mesmos com base na reusabilidade. Assim, é possível afirmar que a aplicação da orientação a objetos geralmente leva a soluções isoladas ou à criação de um nível limitado de reusabilidade e abrangência. A aplicação de orientação a serviços tende a transformar todo o cenário englobando uma quantidade maior de soluções que, se obtiverem êxito em alcançar os objetivos e princípios do design da orientação a serviços e se vencerem as implicações técnicas consequentes, irá disponibilizar um conjunto de soluções flexíveis e que respondem a novas demandas de negócio com maior velocidade e menor custo.

%Figura com escopo da orientação a objetos e a serviços
\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.7\textwidth]{figs/danilo/Object_vs_Services.eps}
	\caption{Comparação entre escopos da Orientação a Objetos a da Orientação a Serviços}	
	\label{fig:Object_vs_Services.eps}
\end{figure}

Outro importante modelo arquitetural influente no SOC é a o EAI ou Enterprise Application Integration. Esse conjunto de princípios arquiteturais foca na integração de soluções heterogêneas de uma empresa. Seu principal componente é denominado \textit{middleware}, ou aplicação intermediária, e tem a função de transportar mensagens entre as aplicações de maneira transparente e irrestrita. O motivo pelo qual essa arquitetura influenciou o surgimento da orientação a serviços está em seu caráter distribuído e integrador, possibilitando que unidades funcionais de lógica troquem mensagem e cooperem formando novas aplicações e dando vazão às demandas de negócios com maior agilidade. No entanto, é visível que mesmo havendo uma integração, as aplicações envolvidas ainda se situam num modelo de aplicações silos e com pouco potencial de reuso e de serem compostas de maneiras diversas e flexíveis. Assim, visionando as possibilidades trazidas por um inventário de soluções coesas, abstratas e de fácil composição, o SOC inovou com os princípios de design em que se baseia para criação e mantenimento de serviços, forma como passaram a ser denominadas as unidades lógicas disponíveis e integradas pela camada intermediária.

Seria imprescindível, na tarefa de descrever as origens da computação orientada a serviços, deixar de citar a importante contribuição dos Web Services. Mais que uma influência, os Web Services estão na raiz do funcionamento da arquitetura SOA, mesmo sendo essa agnóstica à tecnologia usada na implementação de seus serviços. 

Web Services surgiram anteriormente ao SOC, oferecendo uma integração transparente entre aplicações distribuídas por meio de um sistema de troca de mensagens que faz uso de protocolos padronizados e especificações. Em sua primeira geração, tentativas foram feitas com o uso direto de Remote Procedure Calls, ou RPC. Apesar desse modelo já ser conhecido e usado, seu uso em Web Services não obteve apoio devido ao acoplamento resultante de configurações específicas para cada linguagem e logo deixou de ser praticado de forma direta !!CITE. Também foram desenvolvidas as especificações centrais, tais quais o WSDL, liguagem responsável pela descrição das funcionalidades de um serviço, o UDDI, que consiste num registro de negócios e serviços, onde é possível encontrar (descobrir) Web Services registrados por provedores, além das especificações para o aumento da interoperabilidade, conhecidas por WS-I profiles. O SOAP, protocolo de troca de mensagens em formato XML e que possibilita o uso protocolos de transporte conhecidos da internet, i.e. HTTP, SMTP, ou outros independentes, passou a ser usado em Web Services mais simples e logo em Web Services descritos com WSDL e associados a repositórios UDDI, chamados de \textit{Big Web Services} !!CITE. Além de promover a integração de mensagens, o SOAP também possibilita a interoperabilidade de chamadas RPC por meio do encapsulamento dessas chamadas. 
%desenvolver SOAP

A segunda geração de Web Services trouxe avanços em segurança, transações entre serviços e garantias na troca de mensagens, entre outros \cite{Erl:2007:SPS:1296147}. Essas tecnologias e especificações relacionadas seguem a nomeclatura WS-* e tem a característica de serem passíveis de composição entre si e fornecerem um rico conjunto de ferramentas para o ambiente de Web Services. Entretanto, críticas quanto à complexidade e enrijecimento da arquitetura como consequência ao uso destes padrões levaram ao fortalecimento de outros modelos. O REST, ou Representational State Transfer, trata exatamente da transferência de representações de recursos usando um conjunto restrito de ações, denominadas verbos, usualmente por meio do protocolo HTTP e permite a criação de RESTfull Web Services. Nesses há uma liberdade de diversas decisões arquiteturais, ou \textit{fredom-from-choice}, mantendo-se a premissa de requisições \textit{stateless}, um vez que toda informação necessária ao processamento da requisição está nela contido. Em REST, cada recurso irá possuir uma única identificação URI, por meio da qual operações, i.e. GET, POST, PUT e DELETE, serão realizadas com os recursos. Entre os problemas encontrados com o uso dessa arquitetura está a ausência de suporte a vários atributos QoS. A segurança, por exemplo, fica a cargo do protocolo de transporte, que na prática é limitado ao HTTPS. Não há garantias para as mensagens, salvo em implementações próprias, e a composição é feita por meio de \textit{mashups}, termo proveniente da Web 2.0 e que define uma combinação de funcionalidades entre fontes diversas e heterogêneas de maneira livre e sem especificações, ou seja, caberá ao usuário dos serviços elaborar seu modelo de composição ou simplesmente não utilizar nenhum modelo, algo mais propício ao ambiente de aplicações de sítios da internet que ao ambiente controlado de empresas.

Atualmente o debate entre ambas tecnologias para implementação de Web Services aponta para a contextualização de seu uso: cenários mais simples e ad-hoc tendem a obter melhor eficiência com RESTFull Web Services. Em casos de maior complexidade acompanhadas de transações, segurança, garantias e outros aspectos de QoS oferecidos pelos WS-* com mantenimento da interoperabilidade, sobretudo em ambientes corporativos, o uso de Big Services mostra-se mais viável, especialmente a longo prazo \cite{Pautasso:2008:RWS:1367497.1367606}.  




\section{Service Oriented Design}


%definição de serviços - importante
O princípio fundamental do design estabelecido pelo orientação está na criação de unidades lógicas coesas e granulares, denominadas serviços. Assim, em vez de aplicações isoladas que trazem consigo todas as funcionalidades, são criadas unidades coesas, abstratas e de baixo acoplamento cujo acesso é feito por uma interface que encapsula a lógica e cujo funcionamento é definido num contrato. Com isso, é possível realizar uma composição que irá servir uma ou, idealmente, várias aplicações por meio da orquestração dos serviços.
%ok! 1.1.0 

%definindo SOA 
\section{Service Oriented Architecture}

Os mesmos agentes responsáveis pela comercialização de SOA, também são responsáveis pela vulgarização do termo, ao ponto do mesmo ter se tornado ambíguo e com significados diversos. 
%meso! falta desenvolver um pouco mais 1.1.0

Com base nos princípios de SOC, criou-se uma arquitetura responsável por guiar o processo de adoção desse paradigma. O SOA, ou \textit{Service Oriented Architecture}, define uma série de processos, papéis, regras, modelos e camadas, entre outros componentes da arquitetura, propondo transformações importantes no modus operandi no setor de tecnologia da informação. Dada sua abrangência e complexidade de fundamentos, o SOA é protagonista no avanço do SOC, tendo seu conceito se difundido de forma mais ampla que o primeiro, haja vista que recebeu grande atenção do meio acadêmico, como ilustra nosso mapeamento de estudos, além de ter sido um produto de destaque para grandes vendedores da indústria de TI. Entre as prioridades do SOA apontada pelo \textit{SOA Manifesto} estão: o valor de negócio sobre a estratégia técnica adotada, os objetivos estratégicos sobre os benefícios específicos de projeto, a interoperabilidade intrínseca sobre as integrações customizadas, os serviços compartilhados sobre implementações com propósito específico, a flexibilidade sobre optimização e o refinamento evolutivo sobre a perfeição inicial \cite{soamanifesto}.
%ok! 1.1.0




%definição de QOS

Because of the increasing agreement on the implementation and management of the functional aspects of those services, such as the adoption of WSDL for service description, SOAP for Web service messaging, or WS-BPEL for Web service composition, the interests of researchers is shifting toward the ?non-functional? or quality aspects of web-enabled software services \cite{Papazoglou:2007:SOA:1265289.1265298}.

Por qualidade de serviço ou QOS de um sistema entendem-se seus atributos ou requisitos não funcionais. Ou seja, são aspectos qualitativos de estado e não definições de funcionamento, podem ser citados a performance, a segurança, a disponibilidade, a modificabilidade, a escalabilidade, etc. Com o amadurecimento e evolução da engenharia de software, tais atributos tornaram-se cruciais para a gerência de riscos e também de custos das aplicações, participando ativamente na definição da arquitetura do sistema com peso maior que os próprios requisitos funcionais.

%FIGURA COM TODAS OU PRINCIPAIS ATRIBUTOS DE QOS

A performance está diretamente relacionada ao tempo, seja pelo tempo de resposta, pela quantidade de requisições por unidade de tempo ou pela capacidade de atender à requisição numa quantidade de tempo determinada\cite{O'Brien:2007:QAS:1270235.1270300}. Nesse sentido, o uso de serviços distribuídos acarreta prejuízos à performance inerentes à rede utilizada, além de processamento extra devido ao tratamento e encaminhamento das mensagens entre serviços, especialmente quando trata-se de formatos baseados em texto, como o XML, que possuem tamanho maior que sua representação binária. Também irá prejudicar a performance o processo de descobrimento e alocação de serviços na situações em que esse processo não é pré-estabelecido. 

A interoperabilidade relaciona-se à capacidade dos componentes de compartilharem informação e operarem de forma acordada\cite{O'Brien:2007:QAS:1270235.1270300}.  Dado que o ambiente SOC pressupõe a criação de serviços e, especificamente em SOA, serviços implementados com diversas tecnologias sem prejuízo à intercomunicação, verifica-se que um dos principais benefícios trazidos por essa arquitetura é para a interoperabilidade.

A segurança, como um atributo de QOS, possui alguns princípios. A autenticidade trata da capacidade do sistema em identificar a autoria da informação enviada.  A integridade irá resguardar a informação tal qual foi enviada, sem alterações. A confidencialidade garante que somente atores ou entidades autorizadas tenham acesso às informações. O paradigma SOC tem desafios nesses critérios de qualidade à medida em que os serviços são distribuídos em ambientes internos restritos ou na própria internet. É imediata a percepção de que a troca de informações entre as unidades lógicas do sistema pode acarretar sérios riscos à segurança, estando os esforços disponíveis para garanti-la limitados pela necessidade de se manter a interoperabilidade e a performance no ambiente SOC, já que requerem a adoção adicional de especificações, protocolos e consequentemente uma maior redundância de informação e processamento.

A disponibilidade define o tempo em que o sistema estará operacional e portanto respondendo a requisições. Tratando-se de serviços, cada um irá possuir uma disponibilidade que irá influenciar diretamente na disponibilidade dos sistemas que dependem desses serviços, portanto o ambiente SOC possui o desafio de manter-se operacional diante de suas unidades com particularidades próprias. Como possíveis estratégias para mitigar os problemas causados por serviços inoperantes estão a replicação e o balanceamento de carga, além da troca do provedor do serviço. Nesse sentido, o monitoramento, a gerência e a seleção de serviços são processos importantes em SOC e sua automação um dos maiores desafios.

A confiabilidade é um atributo relacionado à disponibilidade e trata da capacidade do sistema em operar sem erros. Mais uma vez, no ambiente distribuído essa capacidade irá depender da confiabilidade dos serviços que compõe o sistema, mas também das mensagens enviadas e recebidas. Dessa forma, um sistema SOC confiável deverá utilizar especificações e protocolos que garantam a confiabilidade das mensagens ou fazer uso de ferramentas e implementações que cuidem desse processo. 

A modificabilidade mesura a capacidade do sistema de sofrer modificações com menores custos e maior velocidade \cite{ClementsKazmanKlein01}. 

O ambiente proposto pelas arquiteturas orientadas a serviço está sujeito a condições particulares diferentes daquelas já estudadas e conhecidas em outros paradigmas, havendo variáveis que elevam a complexidade da análise de parâmetros de qualidade, tanto na fase de planejamento quanto em fase de execução por meio do monitoramento e da gerência dos serviços, sendo esse um obstáculo sólido à adoção de arquiteturas como o SOA. Nesse sentido, o presente estudo visa mapear publicações cujo foco está na qualidade de serviços em SOC, contemplando cenários com ou sem o uso de SOA, proporcionando uma redução da incerteza quanto ao atual estado de desenvolvimento da ciência contribuinte ao tema abordado e quanto aos desafios e avanços já conquistados.


%definição de SMS
Conforme será apresentado posteriormente nesse trabalho, o número de publicações que trazem como foco de estudo o SOC cresceu sensivelmente, sobretudo à partir de 2005 (REFERÊNCIA), gerando um cenário pouco claro a respeito dos avanços e principais desafios relacionados a esse paradigma. Portanto, um trabalho de mapeamento permite organizar e classificar as publicações a partir de determinadas facetas, gerando embasamento a quem deseja iniciar ou avançar nos estudos da área mapeada.

O \textit{Systematic Mapping Study} propõem uma abordagem que preza pela amplitude em detrimento da profundidade de análise. Com isso, é possível incluir um número mais significativo de publicações e um escopo de estudos mais amplo que aquele obtido pelo \textit{Systematic Literature Review}, tendo esse último uma abordagem que difere-se pela maior precisão e riqueza de detalhes em sua classificação, podendo ser aplicado num possível trabalho futuro, cujo enfoque seriam subáreas de interesse identificadas pelo primeiro processo de mapeamento aqui apresentado

\cite{Petersen_Feldt_Mujtaba_Mattsson_2007}