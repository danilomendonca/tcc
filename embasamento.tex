%TCIDATA{LaTeXparent=0,0,relatorio.tex}
\chapter{Embasamento Teórico}\label{embasamento}


%definindo SOC
\section{Service Oriented Computing}

A tecnologia da informação já se consolidou como ferramenta essencial para as instituições, afetando rotinas, ações, estruturas e modelos de negócios. Os alto custos associados ao consumo e provimento de recursos de TI e a necessidade de uma maior agilidade para responder às mudanças casam-se às propostas da computação orientada a serviços, ou SOC, cujo paradigma de design é composto por princípios que, quando absorvidos, criam condições para o cumprimento dos objetivos e benefícios almejados pela orientação a serviços, entre eles o aumento do retorno de investimento, da agilidade, da reusabilidade e da interoperabilidade, assim como um maior alinhamento entre TI e modelo de negócios. 
%OK 1.1.2!

%figura(s) com obrigações e benefícios do SOC (4 obrigações e 3 benefícios) 
%!!substituir figura por uma em português
\begin{figure}[htbp]
	\centering	\includegraphics[width=0.80\textwidth]{figs/danilo/SOC_strategic_goals.eps}
	\caption{Princípios relacionados ao SOA e seus benefícios}	
	\label{fig:SOC_strategic_goals}
\end{figure} 

O paradigma de design da orientação a serviços norteia a configuração do suprimento e consumo dos recursos de TI, em especial as soluções lógicas ou softwares. Apesar do sucesso de outros paradigmas na computação, por exemplo a orientação a objetos, nota-se que problemas distintos, ou seja, da eficiência, agilidade e retorno de investimento na composição de aplicações, ainda deveriam ser atacados. Assim, as aplicações silos com pouca interoperabilidade e sem reuso passaram a ser vistas como um modelo ineficiente, visto que aumentam o custo de desenvolvimento de novas aplicações a longo prazo  e reduzem drasticamente a agilidade ou tempo de resposta às novas demandas, sobretudo quando os modelos de negócio exigem maior flexibilidade. Dessa forma, os benefícios idealizados pelo SOC fizeram desse paradigma um foco de estudos em diversos centros acadêmicos, sobretudo à partir do surgimento da arquitetura orientada a serviços, ou SOA. Também é notável a adesão de grandes vendedores da indústria de TI a essa tecnologia, fomentando tanto pesquisa quanto sua adoção em instituições públicas e privadas.

O termo SOC representa um aglomerado de conceitos relacionados à orientação a serviços \cite{Erl:2007:SPS:1296147}. Além de um paradigma de design, engloba princípios, padrões, governança e arquitetura, notavelmente o SOA. Nesse trabalho, o termo SOC poderá ser usado para se referir de forma genérica à orientação a objetos como um todo.


%história
\subsection{Service Orientation History}

Historicamente, o paradigma de orientação a serviços tem como base diversos outros paradigmas e arquitetura. Por meio da adaptação e amadurecimento de conceitos já experimentados em TI e dada a conjectura de que alguns objetivos poderiam ser melhor conquistados, formou-se o que hoje define a orientação a serviços em termos de princípios de design, arquitetura e tecnologias capazes de implementa-los.

%figura com origens do SO
%!!substituir figura por uma em português
\begin{figure}[htbp]
	\centering	\includegraphics[width=0.9\textwidth]{figs/danilo/Origins_SOC.eps}
	\caption{Origens da Orientação a Serviço}	
	\label{fig:Origins_SOC}
\end{figure} 

\subsubsection{Component Based Architecture} 

Entre as mais importantes influências está a arquitetura baseada em componentes. Com ela, a orientação a serviços compartilha visões, uma vez que ambas se sustentam sobre os conceitos de unidades lógicas auto-contidas, auto-descritas, modulares, encapsuladas, que fazem uso de interfaces, contratos e especificações com possibilidade de composição com outras unidades. 

No entanto, serviços diferenciam-se fundamentalmente de componentes. Enquanto componentes variam entre modelos \textit{white box, gray box ou black box}, de acordo com o nível de customização realizável, os serviços são sempre hermeticamente encapsulados e distribuídos em forma de \textit{black boxes}. Nos primeiros, foca-se na especificação técnica do conjunto de funcionalidades que desempenham, permitindo o uso das mesmas nos códigos que as invocam uma vez que os componentes tenham sido devidamente importados ou ligados à aplicação. Sua especificação pode incluir também uma definição abstrata de sua estrutura interna \cite{Breivold:2007:CSS:1302497.1302990}. Para os últimos,  contratos são estabelecidos em conjunto às descrições das funcionalidades expostas pelas interfaces do serviço. Segundo \cite{Crnkovic:2006:CDP:1193212.1193814}, a interação dos serviços ocorre de forma desacoplada por meio do uso de parâmetros pré-estabelecidos em sua descrição.



%Figura com atividades de componentes e serviços
\begin{figure}[hbtp]
	\centering	\includegraphics[width=1.0\textwidth]{figs/danilo/Component_vs_Services.eps}
	\caption{Comparação entre atividades típicas de componentes e serviços}	
	\label{fig:Component_vs_Services}
\end{figure} 

A composição dos serviços é feita de forma dinâmica em tempo de execução, enquanto a composição de componentes é feita na fase de design ou em tempo de execução. Isso relaciona-se ao tipo de acoplamento entre provedor e consumidor, sendo essa a principal diferença entre ambos paradigmas. Nos componentes é frequente um maior acoplamento, de forma que um grau mais elevado de cumplicidade entre provedor e consumidor é exigida de acordo com o tipo de interação. Outro fator está na dependência quanto ao modelo de componentes usado, que deve ser compatível. Em contraste, nos serviços o baixo acoplamento entre provedor e consumidor é um princípio a ser seguido e um de maior importância no paradigma de orientação a serviços, havendo transparência no processo de troca de mensagens. Dessa forma, o provedor irá desfrutar de liberdade e flexibilidade para a escolha da tecnologia para implementação, assim como o contratante irá somente se ater, funcionalmente, à interface. Essa separação propicia a criação de serviços abstratos e reutilizáveis, o que segue princípios de design da orientação a serviços. Para componentes, é possível uma optimização da performance em detrimento da flexibilidade por meio da composição na fase de design, mas dificilmente se concebe um cenário de integração de um componente sem uma documentação ou até mesmo a comunicação com a equipe responsável pelo seu provimento. 

Mesmo com modelos que definem a distribuição de componentes, i.e. J2EE e CORBA, os resultados obtidos são de naturezas distintas. O processo de integração remota previsto pela distribuição de componentes mantém o aspecto citado para a sua especificação, uma vez que irá, de forma refinada, distribuir modelos de objetos, seus estados e suas propriedades, enquanto os serviços estão num patamar menos elaborado de integração, fornecendo funcionalidades coesas em alto nível no padrão requisição e resposta. De fato, há casos em que um serviço irá fazer uso de componentes em sua implementação, que por conceito independe de sua descrição, desde que mantenha a funcionalidade por ela exposta. Portanto, componentes e serviços se situam em domínios diferentes, assim como as necessidades atendidas e os problemas por eles enfrentados \cite{soaworld-ws-components}. Em suma, os maiores ganhos dos serviços em relação aos componentes estão na maior interoperabilidade, na maior gama de possibilidades para composições, uma vez que permite integração com com serviços de terceiros e por fim no menor acoplamento entre provedor e consumidor.

%falta melhorar a comparação entre os conceitos trazidos pela OO relacionados ao SO
\subsubsection{Object Orientation}

A orientação a objetos também teve grande influência na orientação a serviços. Muitos conceitos por ela reforçados tem precedência nesse paradigma, entre eles o alinhamento do modelo de negócio e da TI, visto que as classes são moldadas à partir de conceitos e objetos reais, muitas vezes representações do próprio negócio. O aumento da robustez, uma vez que a orientação a objetos mantém um forte processo de design da solução com uso de diagramas UML e possui um complexo modelo para exceções e rotinas de teste. O aumento da extensibilidade, haja vista a característica modular das classes e as diversas possibilidades de herança, polimorfismo e associações capazes de estender o escopo da solução. Da flexibilidade, dado o uso de encapsulamento e abstração, sendo possível a adaptação do funcionamento a novas realidades. Por fim, da reusabilidade e da produtividade, dada a existência de classes abstratas e de códigos genéricos e reutilizáveis \cite{Erl:2007:SPS:1296147}.

Uma notável diferença entre os dois paradigmas está no escopo onde atuam. A orientação a objetos visa estruturar soluções localizadas e podem vir a ser aplicada diversas vezes, podendo englobar todo o cenário da instituição através de diferentes ciclos. A orientação a serviços desde sua aplicação inicial irá atuar em porções mais extensas, podendo ou não chegar a todo o contexto de soluções de tecnologia da organização. Isso se deve a alguns princípios do SOC, que evita a formação de aplicações silos e fomenta a formação de um inventário de serviços granulares e interoperáveis de modo a viabilizar a composição dos mesmos com base na reusabilidade. Assim, é possível afirmar que a aplicação da orientação a objetos geralmente leva a soluções isoladas ou à criação de um nível limitado de reusabilidade e abrangência, enquanto a aplicação de orientação a serviços tende a transformar o cenário como um todo englobando unidades lógicas que, se obtiverem êxito em alcançar os objetivos e princípios do design da orientação a serviços e se vencerem as implicações técnicas consequentes, irão disponibilizar um conjunto de soluções flexíveis e que respondem a novas demandas de negócio com maior velocidade e menor custo.

%Figura com escopo da orientação a objetos e a serviços
\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.7\textwidth]{figs/danilo/Object_vs_Services.eps}
	\caption{Comparação entre escopos da Orientação a Objetos a da Orientação a Serviços}	
	\label{fig:Object_vs_Services.eps}
\end{figure}

Outro importante modelo arquitetural influente no SOC é a o EAI ou Enterprise Application Integration. Esse conjunto de princípios arquiteturais foca na integração de soluções heterogêneas de uma empresa. Seu principal componente é denominado \textit{middleware}, ou aplicação intermediária, e tem a função de transportar mensagens entre as aplicações de maneira transparente e irrestrita. O motivo pelo qual essa arquitetura influenciou o surgimento da orientação a serviços está em seu caráter distribuído e integrador, possibilitando que unidades funcionais de lógica troquem mensagem e cooperem formando novas aplicações e dando vazão às demandas de negócios com maior agilidade. No entanto, é visível que mesmo havendo uma integração, as aplicações envolvidas ainda se situam num modelo de aplicações silos e com pouco potencial de reuso e de serem compostas de maneiras diversas e flexíveis. Assim, visionando as possibilidades trazidas por um inventário de soluções coesas, abstratas e de fácil composição, o SOC inovou com os princípios de design em que se baseia para criação e mantenimento de serviços, forma como passaram a ser denominadas as unidades lógicas disponíveis e integradas pela camada intermediária.

\subsubsection{Web Services}

Seria imprescindível, na tarefa de descrever as origens da computação orientada a serviços, deixar de citar a importante contribuição dos Web Services. Mais que uma influência, os Web Services estão na raiz do funcionamento da arquitetura SOA, mesmo sendo essa agnóstica à tecnologia usada na implementação de seus serviços. 

Web Services surgiram anteriormente ao SOC, oferecendo uma integração transparente entre aplicações distribuídas por meio de um sistema de troca de mensagens que faz uso de protocolos padronizados e especificações. Em sua primeira geração, tentativas foram feitas com o uso direto de Remote Procedure Calls, ou RPC. Apesar desse modelo já ser conhecido e usado, seu uso em Web Services não obteve apoio devido ao acoplamento resultante de configurações específicas para cada linguagem e logo deixou de ser praticado dessa forma. Também foram desenvolvidas as especificações centrais, tais quais:


\begin{itemize}

\item WSDL, liguagem responsável pela descrição pública das funcionalidades de um serviço em formato XML 

\item UDDI, que consiste num registro de referência para a publicação de serviços e que opera ele próprio por meio de Web Services via SOAP, com estrutura baseada em XML e que pode ser utilizado publicamente através da internet ou internamente a uma organização. 

\item O SOAP, protocolo de troca de mensagens em formato XML e que possibilita o uso protocolos de transporte conhecidos da internet, i.e. HTTP, SMTP, ou outros independentes, passou a ser usado em Web Services mais simples e logo em Web Services descritos com WSDL e associados a repositórios UDDI, chamados de \textit{Big Web Services} \cite{Pautasso:2008:RWS:1367497.1367606}. Além de promover a integração de mensagens, o SOAP também possibilita a interoperabilidade de chamadas RPC por meio do encapsulamento dessas chamadas. 

\item WS-I, que de acordo com sua especificação tem a função de definir referências e guiar a adoção de especificações de Web Services com intuito de manter a interoperabilidade por meio de perfis denominados WS-I Profiles. Os \textit{profiles} são diretrizes do tipo melhores práticas para um grupo selecionado de especificações, em versões estabelecidas, com objetivo de assistir à comunidade na criação e implantação de Web Services interoperáveis.

\end{itemize}

A segunda geração de Web Services trouxe avanços em segurança, transações entre serviços e garantias na troca de mensagens, entre outros \cite{Erl:2007:SPS:1296147}. Essas tecnologias e especificações relacionadas seguem a nomeclatura WS-* e tem a característica de serem passíveis de composição entre si e fornecerem um rico conjunto de ferramentas para o ambiente de Web Services. Estão inclusas as seguintes especificações:

\begin{itemize}

\item WS-Security provê melhorias ao protocolo SOAP visando obter integridade e confidencialidade em sua troca de mensagens. Segundo a especificação 1.1, permite com que diversos modelos de segurança e de criptografia sejam utilizados. Também define um mecanismo para a associação de \textit{tokens} de segurança ao conteúdo das mensagens, sem restringir, no entanto, os tipos de \textit{token} a serem utilizados, entre outros mecanismo para a segurança de Web Services. Outras especificações de segurança podem e, em alguns casos, devem ser utilizadas em complemento ao WS-Security, ou mesmo como alternativa, o que ocorre com quando a segurança é obtida através da camada de transporte por meio de HTTPS. Entre as especificações complementares estão o WS-SecureConversation, o WS-Trust e o WS-Authorization.

\item WS-ReliableMessaging age em termos da confiança da troca de mensagens. Dessa forma, irá garantir que o transporte da mensagem ocorra de maneira confiável mesmo em situações de falha por parte dos envolvidos, e com maior frequência, falhas de rede. Em seu funcionamento, o WS-ReliableMessaging irá informar, por meio de exceções, a ocorrência de mensagens não entregues ao destinatário, possibilitando o seu reenvio. 

\item WS-Policy fornece um mecanismo com estrutura em XML para a publicação de políticas de QoS para Web Services em termos de requerimentos, capacidades, ou ambos. Trata-se de uma especificação que trabalha em conjunto a outras especificações e mecanismos para prover negociação de atributos de qualidade na escolha de Web Services.

\end{itemize}

Atualmente, as especificações WS-* continuam a evoluir e a agregar novos mecanismos, modelos e métricas. Entretanto, críticas quanto à complexidade e enrijecimento da arquitetura como consequência ao uso destes padrões levaram ao aumento de demanda por outros modelos. O REST, ou Representational State Transfer, trata da transferência de representações de recursos usando um conjunto restrito de ações, denominadas verbos, usualmente por meio do protocolo HTTP e permite a criação de RESTfull Web Services. Nesses últimos há uma liberdade de diversas decisões arquiteturais, ou \textit{fredom-from-choice}, mantendo-se a premissa de requisições \textit{stateless}, um vez que toda informação necessária ao processamento da requisição está nela contido. Em REST, cada recurso irá possuir uma única identificação URI, por meio da qual operações, i.e. GET, POST, PUT e DELETE, serão realizadas aos recursos. Inclui os problemas encontrados com o uso dessa arquitetura a ausência de suporte a vários atributos QoS. A segurança, por exemplo, fica a cargo do protocolo de transporte, que na prática é limitado ao HTTPS. Não há garantias para as mensagens, salvo em implementações próprias, e a composição é feita por meio de \textit{mashups}, termo proveniente da Web 2.0 e que define uma combinação de funcionalidades entre fontes diversas e heterogêneas de maneira livre e sem especificações. Portanto, caberá ao usuário dos serviços elaborar seu modelo de composição ou simplesmente não utilizar nenhum modelo, algo mais propício ao ambiente de aplicações de sítios da internet em pequeno e médio porte que ao ambiente controlado encontrado em organizações.

Atualmente o debate entre ambas tecnologias para implementação de Web Services aponta para a contextualização de seu uso: cenários mais simples e ad-hoc tendem a obter melhor eficiência com RESTFull Web Services. Em casos de maior complexidade que possam incluir transações, garantias de segurança e de outros aspectos de QoS que encontram correspondência nas especificações WS-* e que requerem o mantenimento da interoperabilidade, sobretudo em ambientes corporativos, o uso de Big Services mostra-se mais viável, especialmente a longo prazo, quando o custo inicial mais elevado de sua adoção é superado pelos custos associados a soluções customizadas e proprietárias na arquitetura REST. \cite{Pautasso:2008:RWS:1367497.1367606}. 

\subsubsection{Aspect Oriented Programming}

O AOP define como principal objetivo a separação de tópicos, ou \textit{separation of concerns}, de forma a identificar interesses comuns entre aplicações que poderão ser modularizados e reutilizados. Em geral a modularização é feita em tópicos que se espalham por diversas camadas de abstração, ou \textit{crosscutting concern}. 

A principal correlação da AOP com a orientação a serviços está no princípio da reutilização de unidades lógicas que são abstratas e agnósticas à lógica de negócio e ao restante da aplicação, proposta que se encontra definida em princípios de design dos serviços. 

\subsubsection{Business Process Model}

Por BPM entende-se a disciplina composta por técnicas e métodos voltados ao design, gerenciamento, aperfeiçoamento e controle de processos de negócio, ou Business Process, com intuito de atingir os objetivos de uma organização \cite{jeston2008business}. Um BP é caracterizado pelo conjunto de práticas e atividades encarregadas de produzirem um produto ou serviço. É comum representa-los em gráficos com sequências de atividades, que se iniciam no objetivo e finalizam em seu cumprimento. O grande foco do BPM está na otimização dos resultados obtidos pelos BPs e no alinhamento da TI com os objetivos estratégicos da organização. É, em essência, uma extensão ou amadurecimento de práticas já conhecidas pela administração desde que surgiram os conceitos relacionados ao processo produtivo, mas o grande salto qualitativo se deu com o uso da TI para a automação da gestão de BPs, sendo a primeira experiência conhecida desenvolvida para General Electric em 1954 \cite{bpm-accenture}.

Uma das atividades centrais do BPM é o modelamento, ou Business Process Modeling, que realiza o descobrimento e modelagem de BPs numa organização, além de melhorias a processos já existentes. A representação é feita pelo padrão BPMN com o uso de diagramas gráficos que se assemelham aos diagramas de atividade da linguagem UML \cite{White_Corp_1999}.  

%Figura com escopo da orientação a objetos e a serviços
\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.9\textwidth]{figs/danilo/BPMN.eps}
	\caption{Modelagem de um BP por meio de um diagrama BPMN}	
	\label{fig:BPMN.eps}
\end{figure}

Outra importante atividade está no monitoramento de processos, ou BAM, em geral mais completa e detalhada que o monitoramento obtido com ferramentas do Business Process Management Suit, o BPMS. Assim, o rastreamento de informações acerca do serviço oferece estatísticas sobre sua performance e estado.  

Um dos princípios da orientação a serviços está no alinhamento entre modelo de negócios e tecnologia da informação. Como propósito, o BPM possibilita que processos desse modelo estejam mais visíveis, adaptáveis e extensíveis, o que aumenta o tempo de resposta e oferece ferramentas para o mapeamento entre requisitos de negócios e recursos da TI, o que provê alinhamento entre os dois mundos e um maior valor agregado às soluções. O BPM ocupa o papel de organizar uma abstração de alto nível dos processos de negócio, enquanto o SOA irá se adequar no suporte a esses processos com características de agilidade, flexibilidade e eficiência que serão passadas ao negócio e consequentemente à organização. Dessa forma, a orientação a serviços por meio do SOA e de seus princípios de design surgiu num contexto que já se mostrava apto a recebe-la e não como uma revolução daquilo que já existia.

\subsection{Service Oriented Design}


%definição de serviços - importante
O principal resultado da aplicação do design estabelecido pelo SOC está na criação de unidades lógicas denominadas serviços.  Assim, ao invés de aplicações isoladas que trazem consigo todas as funcionalidades, são criadas unidades coesas, granulares, abstratas e de baixo acoplamento e alta interoperabilidade, de operação preferencialmente \textit{stateless} e cujo acesso é feito por uma interface que encapsula sua lógica e seu funcionamento é bem descrito e garantido por um contrato. Com isso, é possível realizar combinações ágeis que irão servir uma ou, idealmente, várias aplicações por meio do reuso e da composição orquestrada de serviços. 
%ok! 1.1.0


\subsubsection{Standardized Service Contract}

Este princípio advoca pela padronização dos artefatos que efetuam o contrato entre provedor e consumidor de serviços de forma técnica ou eletrônica, ou seja, que serão tratados programaticamente. Portanto, requerem considerações específicas em sua elaboração e design, levando em conta a natureza e quantidade do conteúdo neles presentes \cite{Erl:2007:SPS:1296147}.

Um contrato de serviços tem a finalidade de intermediar a relação entre as partes, separando e desacoplando a descrição das funcionalidades da sua implementação. O objetivo de padronizar tais contratos está na premissa da reusabilidade e da interoperabilidade dos serviços, uma vez que as interfaces farão o papel de conecta-los a diferentes consumidores.

A composição dos contratos pode ser feita com um ou mais artefatos. Tratando-se de \textit{big web services} \cite{Pautasso:2008:RWS:1367497.1367606}, três documentos são utilizados. O WSDL descreve as funcionalidades do serviço, bem como a natureza e tipo dos dados envolvidos. Desta forma, sua padronização impacta diretamente no reuso de tais operações, evitando também sua duplicação em outros serviços. Dada sua estrutura em XML, é preciso haver esquemas que definam os modelos de dados utilizados pela descrição do serviço. Isto é possível com o uso de documentos \textit{XML schemas}. A padronização desses esquemas possibilita a desejável redução na conversão de dados, uma vez que operações que retornem um tipo semelhante de dados poderão compartilhar um mesmo \textit{XML schema}. Por último, é preciso definir quais políticas serão utilizadas pelos serviços, função realizada pelos documentos de definição de políticas, ou \textit{WS-Policy}. Mais uma vez, a padronização é importante para que categorias de políticas sejam definidas e reutilizadas, aumentando assim o reuso de serviços e sua interoperabilidade.

\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.7\textwidth]{figs/danilo/Services_Contract.eps}
	\caption{Documentos de contrato de um \textit{big web service}. Adaptação de \cite{Erl:2007:SPS:1296147}}	
	\label{fig:Services_Contract}
\end{figure}

\subsubsection{Service Loose Coupling}

Por acoplamento entende-se o grau de ligação ou dependência entre partes. Existem diferentes tipos de acoplamento que envolvem distintos atores e entidades de sistemas, porém o princípio de design em questão trata daqueles relacionados aos serviços e seus consumidores diretos \cite{Erl:2007:SPS:1296147}. Preza-se, portanto, pela construção de soluções lógicas capazes de manter o desacoplamento entre aquilo que definem seus contratos e como são implementados, entre a implementação e seus consumidores e entre diferentes serviços. Com isso, são criados contextos para cada serviço independentes do ambiente que os cerca, havendo liberdade para o uso de tecnologias diversas, ou \textit{vendor free}, e possibilitando a evolução e adaptação de serviços e de consumidores sem o comprometimento da ligação que os une, isto é, permite o uso prolongado de contratos sem que a inclusão de novas funcionalidades ou a alteração de sua implementação venham a quebrar a utilidade que proviam nem a mudança de um ou mais consumidores venham a exigir modificações por parte do serviço.

Um ponto de discussão comum está no uso de ferramentas que automatizam a criação de contratos a partir de determinada lógica ou sua implementação numa linguagem. Isso contradiz o desacoplamento entre contrato e lógica ou entre contrato e implementação, uma vez que o contrato irá manter-se altamente relacionado a uma determinada lógica, esquivando-se de aspectos importantes para a maior qualidade e visão estratégica desejáveis em sua elaboração ou irá relacionar-se com detalhes técnicos da linguagem, por exemplo os tipos de dados utilizados. A visão oposta, ou o acoplamento da lógica ao contrato, em geral é possível por meio da abordagem \textit{top-down}, ou do contrato à implementação, que requer com que toda a lógica do serviço vise atender somente a seu contrato, delimitando com precisão seu escopo e evitando a disposição de serviços com pouco reuso ou com problemas de interoperabilidade.

\subsubsection{Service Abstraction}

A abstração pressupõe a não informação ou a redução da quantidade de informações visíveis. Para a orientação a serviços, trata-se de deixar público somente aquilo que melhor define a ligação entre o consumidor de um serviço e suas funcionalidades. Evita-se, portanto, quaisquer detalhes adicionais, sobretudo aqueles referentes à implementação e tecnologias nela utilizadas. Isto irá reduzir as chances de um acoplamento do tipo consumidor implementação, impactando diretamente o processo de design de serviços e alguns pontos de decisão em tempo de design \cite{Erl:2007:SPS:1296147}, além de garantir maior liberdade ao provedor para evoluir seu serviço e adapta-lo conforme já descrito no princípio de \textit{service loose coupling}. Todas as demais informações sobre o serviço estarão contidas dentro de seu ambiente de execução.

Alguns tipos de abstração possíveis são a de tecnologia, relativas a detalhes técnicos de implementação relativos ao ambiente de execução e à linguagem, funcionais, que se referem à capacidade do serviço, programáticas, no que tange a detalhes específicos de como segue a execução das funcionalidades expostas, e de qualidade de serviços, relativas aos detalhes de requerimentos não funcionais dos serviços. Contudo, deve-se aplicar este princípio de maneira a equilibrar excesso de informação à falta, uma vez que serviços que não possuam descrição suficiente de suas capacidades poderão não ser propriamente descobertos e utilizados ou serão menos reutilizáveis, aumentando o surgimento de soluções lógicas redundantes. 

\subsubsection{Service Reusability}

O reuso de serviços está no núcleo da orientação a serviços. Sem a possibilidade do fornecimento de lógicas reutilizáveis por variados consumidores, sejam estes aplicações ou outros serviços, todo o paradigma ficaria reduzido aos demais benefícios de alinhamento entre negócios e TI e de interoperabilidade, sendo ambas já anteriormente endereçada por conceitos da orientação a objetos e tecnologias de BPM e de integração, e.g., ESB e EAI.

Portanto, alguns dos objetivos mais ilustres do SOC, entre eles a redução do fardo da TI e do tempo de resposta, com aumento da agilidade e do retorno de investimento são consequências mais diretas da reusabilidade. Ademais, conforme pode ser visto nas definições de outros princípios de design, a reusabilidade é frequentemente um de seus objetivos. No entanto, a experiência prática de arquitetos, projetistas, desenvolvedores, administradores e demais responsáveis pela criação e mantenimento de soluções lógicas reutilizáveis atestam pela dificuldade em realiza-la, uma vez que não é visível quais serão todos os casos de uso atendidos, o que requer o uso de lógicas agnósticas,  genéricas e flexíveis a mais propósitos do que nos cenários em que o escopo e funcionalidades são bem definidas e previsíveis. Outras questão relativas à testabilidade e à modificabilidade dessas soluções são descritas em \cite{Erl:2007:SPS:1296147}. 

Vale citar a questão do comprometimento das funcionalidades iniciais, de forma que mudanças nos serviços serão restritas e deverão respeitar as dependências adquiridas e que poderão ser pouco conhecidas devido ao desacoplamento entre consumidor e provedor, consequentemente criando uma situação de imprevisibilidade para os impactos de mudanças. Além disso, um serviço reutilizável deverá suportar variações de demanda, isto é, deverá adaptar-se ao uso de mais ou menos recursos de forma a manter parâmetros de qualidade como performance e disponibilidade.
Por último, a reusabilidade confronta o princípio de abstração, uma vez que requer o uso de informações suficientes para que diferentes casos de consumo possam ser atendidos.

\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.7\textwidth]{figs/danilo/Services_Reusability.eps}
	\caption{Relação entre reusabilidade e outros princípios. Adaptação de \cite{Erl:2007:SPS:1296147}}	
	\label{fig:Services_Reusability}
\end{figure}

\subsubsection{Service Autonomy}

A autonomia de serviços está relacionada ao grau de independência dos mesmos em seu funcionamento e à capacidade de auto-governança e ausência de vínculos com atividades externas a seu ambiente, que deverá ser controlado e previsivelmente estável. Com isso, a autonomia determina a independência para a execução da lógica contida num serviço.

Os dois maiores benefícios do princípio da autonomia estão no aumento da previsibilidade das situações enfrentadas e consequentemente no aumento da confiabilidade dos serviços. Desta forma, cenários antes frequentes de compartilhamento de recursos, entre eles de banco de dados, deverão ser evitados ou eliminados para fornecer o ambiente completo e autônomo para a execução desses serviços.

Dois tipos de autonomia são identificados em \cite{Erl:2007:SPS:1296147}. Durante a fase de design, a autonomia relaciona-se à governança e aos princípios de baixo acoplamento e abstração, uma vez que permitem a evolução dos serviços independentemente, tratando-se da lógica implementada, de seus consumidores. Assim, é garantido o controle sobre o serviço. Durante o tempo de execução, este princípio trata do controle sobre recursos necessários, e.g., aqueles utilizados para processamento e memória, e qualquer outro associado à execução. Com isso, garanta-se o controle do serviço sobre seus recursos.

Um revés associado às garantias de autonomia para serviços está no aumento da disposição de recursos de infraestrutura consequentes de seu isolamento e contimento em serviços de forma separada e independente. Isto é, haverá um aumento de uso desses recursos de modo a deixa-los disponíveis aos serviços autônomos, o que levará na maioria dos casos a um aumento de custos.

\subsubsection{Service Statelessness}

O armazenamento e gerenciamento de informações de estado em diferentes contextos e perspectivas de sistemas de informações são reconhecidos pelo uso extensivo de memória e processamento. Por informações de estado, entende-se qualquer dado ou conjunto de dados associados a um estado do sistema e que participam de sua composição ou definição. 

Dado uma arquitetura que mantém parte considerável de sua lógica e logo suas informações de estado entre os clientes num sistema distribuído, o problema da gerência e armazenamento dessa informações é em grande parte dissolvido e portanto não representa desafios técnicos, exceto em casos específicos. No entanto, a evolução da conectividade e da performance do tráfego de dados via redes locais e via a internet possibilitou a concentração da lógica em maior parte no servidor de aplicações, deixando seus correspondentes com pequena parcela da lógica ou, de maneira mais extrema, somente com a interface a ser usada para apresentação e interação. Assim, são constituídos os \textit{clientes magros}. Tal tendência fundamenta-se nos benefícios alcançados por essa abordagem, como o aumento da audiência, visto que um cliente magro poderá ser utilizado em diversificados ambientes e plataformas, sobretudo com o uso de navegadores ou \textit{browsers}, além da possibilidade de uso imediato ou do carregamento preliminar de poucos dados sem a necessidade de artefatos para o armazenamento e transferência de arquivos para instalação, o gerenciamento centralizado decorrente da unificação da execução da lógica desempenhada num só local controlado e acessível e que permite, entre outros, um controle facilitado de versionamento, já que não seria preciso manter a continuidade de versões anteriores. 

A orientação a serviços, além de unificar a lógica nos serviços, tem por objetivo o reuso dessas lógicas em situações múltiplas, o que implica a sua escalabilidade. Uma vez que há um custo elevado de recursos para a gerência e armazenamento de informações de estado, é notável que a performance desses serviços estará comprometida caso tais informações não sejam reduzidos ou deslocados para elementos externos, tais quais \textit{middlewares} capacitados na gerência de dados de estado ou no uso de bancos de dados para esta finalidade. Entre os riscos associados estão no aumento da dependência e a redução da performance devido ao processamento e conversão dos dados, portanto a situação ideal é aquela em que exista uma menor quantidade possível desses dados para as funcionalidades desempenhadas pelo serviço.

\subsubsection{Service Discoverability}

Segundo a orientação a serviços, um ponto de decisão importante está na escolha entre utilizar um serviço disponível ou construí-lo para atender determinada demanda. Para que as soluções já existentes possam ser encontradas e suas capacidades sejam corretamente compreendidas e comparadas às de necessidade, requer-se o uso adequado da publicação de meta dados sobre esses serviços e mecanismos eficientes para localiza-los. Trata-se, portanto, do foco do princípio de descobrimento de serviços. 

Duas atividades centrais são endereçadas por esse princípio: o descobrimento e a interpretação das informações descobertas. A primeira é considerada uma das grandes mudanças trazidas pelo SOC, e antes mesmo do surgimento da arquitetura orientada a serviços, as primeiras versões de web services já operavam com a especificação de registro UDDI. A segunda pode envolver o caso da interpretação feita por humanos, responsáveis por analisar os meta dados e decidirem pela adoção ou não dos serviços descobertos, ou, naquilo que faz parte de uma ciência nova e expansão, a web semântica, a interpretação feita por máquinas, que permite a automação da seleção de serviços baseando-se em parâmetros formatados e inteligíveis a algorítimos, possibilidade essa que se cumprida despontará como um grande salto nas operações com serviços.

Para o bom funcionamento dessas atividades, definiu-se características para o design e orientações para a elaboração das meta informações sobre os serviços e seus contratos. Os riscos relacionados ao mau uso dessas informações e registros está no isolamento de soluções lógicas e consequentemente no construção desnecessária e redundante de outros serviços.

\subsubsection{Service Composability}

O simples surgimento de unidades lógicas interoperáveis, que possibilitam o uso de incontáveis linguagens e implementações e que proporcionam o reuso dessas por meio de abordagens agnósticas e que visam atender diferentes casos de uso já é, por si, um  diferencial do paradigma de orientação a serviços. No entanto, nota-se que a construção de aplicações por meio da composição de serviços consiste no cenário ideal e maior desse paradigma, pois é nele que muitos dos objetivos e benefícios já citados se realizam.

A composição de soluções já era praticada em diversos casos e não é, somente, a novidade apresentada, mas sim o modo como essa é feita. Por meio do desacoplamento e da adoção de um design que favorece o reuso, tais soluções poderiam ser arranjadas e rearranjadas com a flexibilidade necessária para atender às mudanças do negócio atendido, portanto elevando o potencial do retorno ao investimento feito em cada serviço. Além disso, reforça-se a liberdade para o acréscimo de novas unidades que já adotem tecnologias mais atuais sem a perda da interoperabilidade com aquelas existentes.

Esses seriam alguns dos benefícios estipulados pela composição de serviços tal qual definidos pelos princípios de design abordados. Contudo, este cenário ideal encontra dificuldades para se tornar realidade, uma vez que envolve a transformação de sistemas legados e toda a prática e arquitetura usada pelas equipes responsáveis pela TI de organizações. Visando auxiliar a passagem para esse paradigma de forma gradual e com maiores chances de sucesso, definiu-se o SOA, arquitetura que abrange desde a estruturação dos quadros de recursos humanos até as práticas utilizadas para a sua governança, dando ênfase à construção e gerência de inventário de serviços de acordo com a necessidade e capacidade dessas organizações.


%definindo SOA 
\subsection{Service Oriented Architecture}

Os princípios encontrados no design orientado a serviços são aqueles adotados pela arquitetura orientada a objetos. Dado seu peso e complexidade, a aplicação escalonável desses à realidade de cada organização se faz necessária de modo a evitar um colapso da estrutura existente devido aos altos custos envolvidos em sua adoção e à necessidade de uma profunda reestruturação da TI como um todo.

Para guiar o processo de adoção desse paradigma, criou-se uma arquitetura, o SOA, que define uma série de processos, papéis, regras, modelos e camadas, entre outros componentes da arquitetura, visando uma passagem menos ruidosa, mais sistemática e escalonada para o SOC. Dada sua abrangência, complexidade e unanimidade entre arquiteturas que contemplam esse paradigma, o SOA é protagonista no avanço do SOC, tendo seu conceito se difundido de forma mais ampla que o primeiro, haja vista que recebeu grande atenção do meio acadêmico, além de ter sido um produto de destaque para grandes vendedores da indústria de TI. Entretanto, os mesmos agentes responsáveis pela comercialização de SOA, também contribuíram para a vulgarização do termo, ao ponto do mesmo ter se tornado ambíguo e com significados diversos, fundindo-se aos conceitos e princípios de orientação a serviços. Um esforço foi feito visando estabelecer um significado único e distinto para a arquitetura, conhecido por \textit{SOA Manifesto}. Entre as prioridades do SOA apontada pelo manifesto estão: 

\begin{itemize}

\item O valor de negócio sobre a estratégia técnica adotada.
\item Os objetivos estratégicos sobre os benefícios específicos de projeto
\item A interoperabilidade intrínseca sobre as integrações customizadas
\item Os serviços compartilhados sobre implementações com propósito específico 
\item A flexibilidade sobre optimização e o refinamento evolutivo sobre a perfeição inicial. \cite{soamanifesto}
\end{itemize}
%ok! 1.1.0

Na prática, o principal objetivo do SOA será o de gerenciar a elaboração, criação, implementação, divulgação, composição e evolução das peças fundamentais do paradigma em questão, isto é, os serviços e suas agremiações em inventários que respondam às necessidades do negócio atendido pela TI da organização. 

Uma organização que venha a adotar o SOA estará, de antemão, adotando em determinada medida os princípios da orientação a serviço. Caberá a essa arquitetura, contudo, possibilitar o aumento gradativo da incorporação desses até um nível ótimo e benéfico. Um possível motivo para a falência da transição a essa arquitetura em algumas organizações pode estar na incorporação impulsiva e desordenada de tecnologias e produtos relacionados com intuito de cumprir premissas e benefícios que são mais simples de serem alcançados em promessas de vendas que através da prática. Além disso, nota-se que o próprio modelo arquitetural possui complexidade suficiente para que seja absorvido em etapas e não como uma substituição radical daquilo que já existe. Por isso fala-se na mensuração do nível de maturidade de SOA, havendo inclusive estados indesejáveis de lentidão e desvios e também aqueles que apontam o excesso e riscos da má transição à arquitetura orientada a serviços. Não se trata, portanto, de somente comprar uma nova tecnologia e coloca-la para funcionar e aguardar resultados, mas sim de uma mudança de paradigma que requer planejamento, análise de riscos e que passa necessariamente pela compreensão de suas finalidades.



%definição de QOS

\section{Qualidade de Serviços}

Por qualidade de serviços ou QoS de um sistema entende-se seus atributos ou requisitos não funcionais. Ou seja, são aspectos qualitativos de estado e não definições de funcionamento, sendo possível citar a performance, a segurança, a disponibilidade, a mantenabilidade, a escalabilidade, etc. Com o amadurecimento e evolução da engenharia de software, tais atributos tornaram-se cruciais para a gerência de riscos e também de custos das aplicações, participando ativamente na definição da arquitetura do sistema e finalmente com peso maior que os próprios requisitos funcionais ao passo que o sistemas aumentam sua ligação a processos de negócio.

Diversos autores se dedicam a definir modelos e métricas para atributos de QoS. Em específico, os sistemas em concordância com o paradigma da orientação a serviços, existe um fator dificultante devido à configuração distribuída dos serviços, que se constituem de tecnologias diversas em sua implementação, o que resulta num ambiente heterogêneo de integração. Com isso, alguns modelos de QoS propostos não se adaptam bem à nova realidade e outros foram definidos focando o ambiente SOC. Alguns trabalhos apresentam uma categorização dos atributos de qualidade para uma melhor contextualização e abordagem dos mesmos. As categorias tem diferentes níveis de granularidade e representam perspectivas diversas, conforme listado em \cite{Balfagih:2009:10.1109}. Esse mesmo artigo propõe um novo modelo que leva em conta a característica segmentada das partes envolvidas e interessadas no provimento e consumo de serviços. Segundo esse modelo, três grandes atores formam as categorias dos atributos de qualidade. São eles os atributos de desenvolvedores, de consumidores e de provedores.

%FIGURA COM TODAS OU PRINCIPAIS ATRIBUTOS DE QOS
\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.8\textwidth]{figs/danilo/QoS_Model_Stakeholders.eps}
	\caption{Principais atributos de QoS na visão de partes de \textit{Stakeholders}. Adaptação de \cite{Balfagih:2009:10.1109}.}	
	\label{fig:QoS_Model_Stakeholders}
\end{figure}


\subsection{Performance}

A performance é um atributo relacionado ao tempo. Encontra-se definida no tempo de resposta a uma requisição, na quantidade de requisições por unidade de tempo e na capacidade de atende-las num período determinado \cite{O'Brien:2007:QAS:1270235.1270300}. Nesse sentido, o uso de serviços distribuídos acarreta prejuízos à performance inerentes à rede utilizada, além de processamento extra devido ao tratamento e encaminhamento das mensagens entre serviços, especialmente quando trata-se de formatos baseados em texto, como o XML, que possuem tamanho maior que sua representação binária. Também irá prejudicar a performance o processo de descobrimento e alocação de serviços nas situações em que esse processo não é pré-estabelecido. 

\subsection{Interoperabilidade}
A interoperabilidade é definida pela capacidade de componentes de um sistema compartilharem informação e operarem de forma acordada\cite{O'Brien:2007:QAS:1270235.1270300}. Assim, mede-se a comunicação e o processamento de informações de maneira independente à fonte dos dados. Visto que o ambiente SOC pressupõe a criação de serviços e, especificamente em SOA, serviços implementados com diversas tecnologias sem prejuízo à intercomunicação, verifica-se que um dos principais benefícios trazidos por essa arquitetura é para a interoperabilidade. Ademais, protocolos já existentes, tal qual o SOAP, realizam a função de troca de informação de maneira interoperável, uma vez que o fazem de forma transparente às aplicações envolvidas. Por fim, o uso de especificações representa um desafio entre avanços para a interoperabilidade, dado que promovem a padronização, mas o uso de especificações incompatíveis ou a sua adesão parcial causará conflitos, comprometendo tal atributo. 

\subsection{Segurança}
A segurança, como um atributo de qualidade de sistemas de informação, possui alguns princípios. 

\begin{itemize}

\item A autenticidade trata da capacidade do sistema em identificar a autoria da informação enviada, ou da impossibilidade de que sua autoria seja negada, também conhecido por princípio da não repudiação. 

\item A integridade irá resguardar a informação tal qual foi produzida, sem alterações, ou garantir que qualquer modificação feita seja detectável.

\item A confidencialidade garante que somente atores ou entidades autorizadas tenham acesso às informações, mantendo-as em sigilo para os demais.

\end{itemize}

    Também considere-se a disponibilidade, atributo descrito a seguir, como um requisito de segurança, visto que a segurança de certas operações necessitam da continuidade dos serviços. 
    
    É imediata a percepção de que a troca de informações entre as unidades lógicas do sistema pode acarretar sérios riscos à segurança, estando os esforços disponíveis para garanti-la limitados pela necessidade de se manter a interoperabilidade e a performance no ambiente SOC, já que requerem a adoção adicional de especificações, protocolos e consequentemente uma maior redundância de informação e processamento.

\subsection{Disponibilidade ou \textit{Availability}}
A disponibilidade define o tempo em que o sistema estará operacional enquanto requisitado, portanto respondendo com sucesso a requisições. Tratando-se de serviços, cada um irá possuir uma disponibilidade que irá influenciar diretamente ou indiretamente a disponibilidade dos sistemas que dependem desses serviços, portanto o ambiente SOC possui o desafio de manter-se operacional diante de suas unidades com particularidades próprias. Como possíveis estratégias para mitigar os problemas causados por serviços inoperantes estão a replicação e o balanceamento de carga, além da troca do provedor do serviço. Nesse sentido, o monitoramento, a gerência e a seleção de serviços são processos importantes em SOC e sua automação um dos maiores desafios.

\subsection{Confiabilidade}
A confiabilidade é um atributo relacionado à disponibilidade e trata da capacidade do sistema em operar sem erros. Dessa forma, irá mensurar a frequência de erros ocorridos enquanto o sistema estiver disponível num período de tempo. Mais uma vez, no ambiente distribuído essa capacidade irá depender da confiança dos serviços em composição, mas também do transporte das informações. Portanto, um sistema SOC confiável deverá prezar pela confiança 
dos serviços e também do mecanismo para troca de mensagens.

\subsection{Manutibilidade}
Por manutibilidade entende-se o nível de esforço e custo necessário para realizar correções, modificações e evoluções num sistema. É um atributo diretamente ligado ao desenvolvimento das unidades lógicas e impacta indiretamente na disponibilidade dos serviços existentes e futuros, visto que o tempo de se efetuarem correções ou novas implementações será afetado \cite{ClementsKazmanKlein01}. É possível ainda encontrar referências a dois subtipos desse atributo, sendo esses a modificabilidade e a testabilidade. O primeiro segue a linha geral que define a manutibilidade, e o segundo define em específico a capacidade de se operar testes nas soluções, seja para avaliação de desempenhos diversos ou pela capacidade em encontrar erros por meio do \textit{debbuging}.

\subsection{Escalabilidade}

A escalabilidade diz respeito à capacidade do sistema de suportar escalas crescentes de uso ou modificações sem tornar-se indisponível ou degradar outros aspectos de qualidade. Assim, um sistema será escalável se possibilitar o agregamento de mais usuários, via a escalabilidade de uso, ou de novas funcionalidades via a escalabilidade das funções do sistema. 

A orientação a serviços dispõe da composição de serviços com possibilidade de adesão dinâmica e do rearranjamento daqueles já existentes, privilegiando o modelo \textit{stateless} que evita problemas relacionados ao gerenciamento da sessão e à propagação de contexto \cite{O'Brien:2007:QAS:1270235.1270300}, com possível substituição ou melhoria de serviços por meio do escalonamento vertical e pela  replicação de serviços por meio do escalonamento horizontal, fatores que aumentam a vazão e diminuem o tempo de resposta \cite{ZimmPers2005}. Assim, nota-se que os princípios de design do SOC, sobretudo quando expostos a uma arquitetura orientada a serviços capaz de estruturar processos e recursos irão proporcionar um aumento da escalabilidade.

\subsection{Custo}

Por custo entende-se de forma direta as despesas de ordem financeira associadas ao uso e consumo dos serviços. Tal atributo é importante para a análise da viabilidade de sistemas orientados a serviços cuja composição tem como opção serviços pagos de terceiros e pode influenciar diretamente na escolha dos demais atributos, uma vez que qualidade e custo são diretamente proporcionais.

\section{Systematic Mapping Study}

O \textit{Systematic Mapping Study} propõem uma abordagem que preza pela amplitude em detrimento da profundidade de análise. Com isso, é possível incluir um número mais significativo de publicações e um escopo de estudos mais amplo que aquele obtido pelo \textit{Systematic Literature Review}, tendo esse último uma abordagem que difere-se pela maior precisão e riqueza de detalhes em sua classificação, podendo ser aplicado num possível trabalho futuro, cujo enfoque seriam subáreas de interesse identificadas pelo primeiro processo de mapeamento aqui apresentado. 

Um dos maiores revezes dos SRs está no esforço considerável por ele requerido \cite{Petersen_Feldt_Mujtaba_Mattsson_2007}. Dada a vastidão de tópicos abordados pela computação orientada a objetos, é factível supor que um trabalho de SR se tornaria inviável devido ao elevado número de estudos publicados e um número reduzido de pessoal responsável por suas análises.

Um Mapping Study é designado para prover uma ampla visão de determinada área de pesquisa, para verificar se indícios de pesquisa existem em determinados tópicos e prover indicações quantitativas dessas evidências. \cite{Kitchenham_Charters_2007}. O MS segue um processo sistêmico que visa garantir um nível de qualidade adequado aos resultados obtidos. Algumas passos são diretamente herdados dos SRs, enquanto outros são adaptados para se garantir a viabilidade de seus objetivos. Cada passo do processo de mapeamento irá gerar um resultado, sendo o resultado final o mapeamento propriamente dito \cite{Petersen_Feldt_Mujtaba_Mattsson_2007}.



%Figura com processo para o MS
\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.9\textwidth]{figs/danilo/Mapping_Process.eps}
	\caption{Processo para o Systematic Mapping Study. Adaptação de \cite{Petersen_Feldt_Mujtaba_Mattsson_2007}}	
	\label{fig:Mapping_Process.eps}
\end{figure}

\subsection{Escolha das Perguntas de Pesquisa}

As \textit{research questions}, ou RQs, fundamentam a motivação para um  mapeamento de estudos. São elas que irão guiar todo o processo consequente. Em sua elaboração é preciso ter em mente as características de abertura do escopo e de profundidade de um MS, de modo que as perguntas devem ter como objetivo respostas passíveis de serem encontradas por meio do tipo de análise efetuada num MS. Assim, questões relacionadas à frequência, à identificação dos centros de pesquisa, à identificação dos tópicos existentes ou que vem sendo pesquisados ou ao tipo de pesquisa são mais comuns. Ou seja, o foco das questões é menos estreito e envolve um número maior de publicações.

\subsection{Pesquisa primária}

À partir das RQs é possível elaborar termos que serão aplicados em sistemas de busca de publicações. Para tanto, a frase de busca deverá estar estruturada visando englobar todos os tópicos de interesse numa área, restringindo-os se necessária a determinados aspectos. O uso de operadores lógicos é indispensável para que se obtenha resultados mais precisos e que não deixem escapar publicações devido à diferença usada no emprego de palavras chave, havendo pequenas variações nos padrões de uso para cada sistema de busca. Também é interessante realizar testes que observem de maneira preliminar os resultados obtidos nas buscas para se preciso realizar modificações na \textit{string} usada.

Uma abordagem metódica para a construção da \textit{string} de busca consiste na definição de termos categorizados em população, intervenção, comparação e resultados, visto que a medicina é uma das áreas onde as Systematic Reviews são mais usadas. No entanto esse modelo pode também servir para definir os termos de busca em qualquer outra área por meio da abstração desses conceitos.

A população irá definir o objeto de interesse, ou seja, a área em que se deseja efetuar o mapeamento. Geralmente é necessária a inclusão de um ou mais termos que a representem na \textit{string} de busca. A intervenção representa metodologias, procedimentos, arquiteturas, modelos, ferramentas, etc, que atuam numa determinada população. Em geral são criados termos de busca que associam os termos de população aos termos de intervenção por meio de operadores lógicos \textit{E}, sendo sua variação ou composição com outras intervenções feitas com o operador lógico \textit{OU}. A comparação define intervenções com as quais as primeiras serão comparadas ou pela comparação com a ausência de uma intervenção, ou seja, pelo não uso ou aplicação de uma intervenção ao seu uso ou aplicação. Por fim, os resultados são estadosdistribuem as submissões de interesse para a população após serem submetidos a uma ou mais intervenções. Por exemplo, pode-se mesurar se certos níveis qualitativos ou quantitativos foram atingidos para determinados aspectos \cite{Kitchenham_Charters_2007}.


\subsection{Inclusão e Exclusão de Publicações}

Como resultado da etapa anterior, espera-se obter um número elevado de publicações, estando uma parcela das mesmas fora do escopo do mapeamento. Deve-se então realizar a análise rápida dos resumos ou \textit{abstracts} e dos demais metadados para embasar o processo de exclusão das publicações de acordo com critérios de inclusão e exclusão do MS.

A definição dos critérios de inclusão e exclusão deve prezar pela praticidade de sua análise. É possível definir restrições quanto ao tipo de publicação, origem, quantidade mínima de páginas e principalmente verificando o comprometimento da pesquisa com o foco e escopo do mapeamento. Essa correspondência semântica pode ser checada entre as palavras chaves da publicação e no próprio resumo. Outra observação importante é para o fórum em que a publicação está disponível, uma vez que os sistemas de busca realizam distribuições por áreas e tópicos de pesquisa.

\subsection{Definição de Categorias e Extração de Dados}

Tendo definido as questões de pesquisa, é necessário identificar um esquema que será usado na classificação das publicações. Existem inúmeras possibilidades para a definição de facetas, ou \textit{facets}. Dado o interesse comum em mapeamentos de estudo em obter dados sobre o estado das pesquisas, uma categorização que identifique o tipo ou tipos de pesquisa realizada em cada artigo, tal qual sugerido em \cite{Wieringa:10.1007/s00766-005-0021-6}. Outra categorização possível e complementar está no tipo de contribuição dada, ou seja, identifica o foco da pesquisa em termos de modelo, processo, método, ferramenta ou métricas. 

Para a definição de facetas relacionadas ao contexto das pesquisas, é possível que alguns tipos sejam determinados baseando-se nas RQs elaboradas para o mapeamento. Em \cite{Petersen_Feldt_Mujtaba_Mattsson_2007} é proposto o procedimento de busca de palavras chaves nos resumos das publicações. Isso possibilita o agrupamento dessas palavras em categorias que podem ser inclusas entre aquelas relacionadas ao contexto. Considerando um número elevado de publicações, a busca, agrupamento e definição de categorias contextuais deve ser feito de modo iterativo, inclusive para reavaliar a inclusão dos termos já escolhidos de acordo com a evolução do cenário, conforme está ilustrado em 
\ref{fig:Keywords_Search_Facets}. Esse procedimento cíclico também se aplica às demais categorias definidas para o mapeamento. 

\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.7\textwidth]{figs/danilo/Keywords_Search_Facets.eps}
	\caption{Busca iterativa de palavras chaves para categorização. Adaptação de \cite{Petersen_Feldt_Mujtaba_Mattsson_2007}}	
	\label{fig:Keywords_Search_Facets}
\end{figure}

Tal abordagem pode ser vista como dinâmica, uma vez que em paralelo à obtenção de palavras chaves, o próprio conteúdo da pesquisa estará sendo analisado por meio de seu resumo e demais metadados. Assim, a extração dos dados que posicionam cada publicação em determinadas categorias ocorre junto ao aperfeiçoamento na definição das mesmas. 

Durante a abordagem de cada publicação, é importante tomar notas explicativas justificando a classificação realizada em cada categoria. Isso auxilia tanto o responsável pela classificação quanto aqueles que posteriormente também passarem pela classificação da mesma publicação ou que servirem de revisores, reduzindo possíveis desvios. Para tanto, é indispensável o uso de ferramentas que organizem as informações colhidas e anotadas, de preferência com acesso gráfico e de boa usabilidade.

\subsection{Mapeamento e  Apresentação de Dados}

Após obter os dados, o mapeamento prossegue com a apresentação dos mesmos por meio de gráficos. É preciso escolher um tipo de representação clara e que possa ilustrar os dados nas dimensões necessárias. Caso seja objetivo cruzar informações em três dimensões, o uso de \textit{bubble plots} ou gráficos em bolhas permite diferenciar quantidades entre cada cruzamento das categorias definidas nos eixos x e y, ou seja, cada intersecção poderá ser dimensionada pelo tamanho da bolha que a representa. Dessa forma, esse tipo de gráfico serve bem ao propósito quantitativo do mapeamento de estudos que em geral relaciona frequência com duas ou mais categorias de classificação.

\begin{figure}[hbtp]
	\centering	\includegraphics[width=0.9\textwidth]{figs/danilo/Bubble_Plot.eps}
	\caption{Exemplo de gráfico de \textit{bubble plot}. Adaptação de \cite{Petersen_Feldt_Mujtaba_Mattsson_2007}}	
	\label{fig:Bubble_Plot}
\end{figure}

